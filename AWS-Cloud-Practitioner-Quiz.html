<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AWS Cloud Practitioner Quiz | John Nessime</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* ---------- (your original CSS – unchanged) ---------- */
body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#232f3e,#1a2530);color:#f8f9fa;margin:0;padding:20px;line-height:1.6}
.container{max-width:900px;margin:40px auto;background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);border-radius:16px;padding:30px;box-shadow:0 15px 35px rgba(0,0,0,0.3)}
h1{text-align:center;color:#ff9900;margin-bottom:30px;font-size:2.5rem;text-shadow:0 2px 4px rgba(0,0,0,0.3)}
.counter-container{display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px;margin:15px 0;font-size:.95rem}
.counter-item{background:rgba(255,255,255,0.1);padding:8px 10px;border-radius:8px;min-width:120px;text-align:center}
.progress-container{width:100%;background:rgba(255,255,255,0.2);height:12px;border-radius:6px;margin:20px 0;overflow:hidden}
.progress-bar{height:100%;background:#ff9900;width:0%;border-radius:6px;transition:width .4s ease}
.question-container{margin:25px 0;padding:20px;background:rgba(255,255,255,0.05);border-radius:12px;border:1px solid rgba(255,153,0,0.2)}
.question{font-size:1.3rem;margin-bottom:18px;font-weight:600}
.options{display:grid;gap:12px}
.option{padding:14px 18px;background:rgba(255,255,255,0.1);border-radius:10px;cursor:pointer;transition:all .3s ease;border:2px solid transparent}
.option:hover{background:rgba(255,153,0,0.2);transform:translateY(-2px)}
.option.selected{border-color:#ff9900;background:rgba(255,153,0,0.3)}
.option.correct{background:#28a745 !important;color:#fff}
.option.wrong{background:#dc3545 !important;color:#fff}
.btn{display:inline-block;padding:12px 28px;margin:15px 8px 0 0;background:#ff9900;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:bold;transition:all .3s;font-size:1rem}
.btn:hover{background:#e68a00;transform:translateY(-2px)}
.btn:disabled{opacity:.6;cursor:not-allowed}
.navigation{text-align:center;margin:30px 0}
.result{margin-top:25px;padding:20px;background:rgba(40,167,69,0.2);border-radius:12px;text-align:center;font-size:1.4rem;display:none}
.explanation{margin-top:15px;padding:15px;background:rgba(255,255,255,0.1);border-radius:10px;font-size:.95rem;display:none;border-left:4px solid #ff9900}
.score{font-size:2rem;color:#ff9900;margin:10px 0}
.summary{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0}
.summary-item{background:rgba(255,255,255,0.1);padding:15px;border-radius:10px;text-align:center}
@media(max-width:768px){.container{padding:20px}h1{font-size:2rem}.question{font-size:1.1rem}.counter-container{font-size:.9rem}}
</style>
</head>
<body>
<div class="container">
    <h1>AWS Cloud Practitioner Quiz</h1>
    <p style="text-align:center;margin-bottom:30px;">Practice Questions | Live Stats | by John Nessime</p>

    <!-- LIVE COUNTERS -->
    <div class="counter-container" id="counterContainer">
        <div class="counter-item"><strong>Answered:</strong> <span id="answeredCount">0</span> / <span id="totalQuestions">0</span></div>
        <div class="counter-item"><strong>Correct:</strong> <span id="correctCountLive">0</span></div>
        <div class="counter-item"><strong>Wrong:</strong> <span id="wrongCountLive">0</span></div>
        <div class="counter-item"><strong>Accuracy:</strong> <span id="accuracyPercent">0%</span></div>
    </div>

    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>

    <div id="quiz"></div>

    <div class="navigation">
        <button class="btn" id="prevBtn" onclick="previousQuestion()">Previous</button>
        <button class="btn" id="nextBtn" onclick="nextQuestion()">Next</button>
        <button class="btn" id="submitBtn" onclick="submitQuiz()" style="display:none;">Submit Quiz</button>
    </div>

    <div class="result" id="result">
        <h2>Quiz Complete!</h2>
        <div class="score" id="finalScore"></div>
        <div class="summary">
            <div class="summary-item"><strong>Correct:</strong> <span id="correctCount">0</span></div>
            <div class="summary-item"><strong>Wrong:</strong> <span id="wrongCount">0</span></div>
            <div class="summary-item"><strong>Skipped:</strong> <span id="skippedCount">0</span></div>
            <div class="summary-item"><strong>Time:</strong> <span id="timeTaken">0</span> min</div>
        </div>
        <button class="btn" onclick="restartQuiz()">Restart Quiz</button>
    </div>
</div>

<script>
/* ============================= QUESTION DATA ============================= */
/*   - `correct` can be a **number** (single) or an **array** (multi)      */
/*   - Options are plain text – no A) B) prefixes                         */
const questions = [
            {
                question: "Which service provides quantum computing?",
                options: ["Amazon Braket", "Amazon SageMaker", "Amazon EMR", "AWS Batch"],
                correct: 0,
                explanation: "Braket for quantum algorithms. SageMaker ML, EMR big data, Batch jobs."
            },
    {
        question: "A company needs to quickly deploy and test a new application for only two months. Which pricing model would be the most cost-effective?",
        options: ["Reserved Instances", "Savings Plans", "On-Demand", "Spot Instances"],
        correct: 2,                                                   // index of "On-Demand"
        explanation: "On-Demand instances are ideal for short-term, unpredictable workloads."
    },
    {
        question: "Which services are included in the AWS Free Tier? (Select two)",
        options: ["AWS Direct Connect", "Amazon EC2", "AWS Shield Advanced", "Amazon S3", "AWS Snow Family"],
        correct: [1, 3],                                              // EC2 & S3
        explanation: "The Free Tier includes limited usage of EC2 and S3 for new accounts."
    },
     {
                question: "Which component of the AWS global infrastructure is used by Amazon CloudFront to ensure low-latency delivery of content to end-users worldwide?",
                options: ["Availability Zones", "Regions", "Edge Locations", "Data Centers"],
                correct: 2,
                explanation: "Amazon CloudFront is a content delivery network (CDN) that uses a global network of Edge Locations to cache copies of content closer to the end-users, thereby reducing latency and improving delivery speed. Regions and Availability Zones are core components for deploying primary application infrastructure with high availability and fault tolerance."
            },
            {
                question: "Which AWS service provides a fully managed file storage solution that can be mounted concurrently by multiple EC2 instances?",
                options: ["Amazon S3", "Amazon EBS", "Amazon EFS", "Amazon Glacier"],
                correct: 2,
                explanation: "Amazon Elastic File System (EFS) is a managed file storage service for EC2 instances that allows multiple instances to access the same file system simultaneously, supporting NFS protocol. S3 is object storage, EBS is block storage for single instances, and Glacier is for archival storage."
            },
            {
                question: "What is the primary purpose of AWS Identity and Access Management (IAM)?",
                options: ["To manage virtual private clouds", "To control access to AWS services and resources securely", "To monitor application performance", "To store relational data"],
                correct: 1,
                explanation: "IAM enables you to manage users, groups, roles, and permissions to allow or deny access to AWS resources. It does not handle networking (VPC), monitoring (CloudWatch), or databases (RDS)."
            },
            {
                question: "Which AWS service is used for serverless computing, allowing code execution without provisioning servers?",
                options: ["Amazon EC2", "AWS Lambda", "Amazon RDS", "Amazon S3"],
                correct: 1,
                explanation: "AWS Lambda runs code in response to triggers and automatically manages the underlying compute resources. EC2 requires server management, RDS is for databases, and S3 is for storage."
            },
            {
                question: "What does an AWS Region consist of?",
                options: ["A single data center", "Multiple Availability Zones", "Edge locations only", "Global endpoints"],
                correct: 1,
                explanation: "An AWS Region is a geographical area containing multiple isolated Availability Zones for high availability and fault tolerance. Data centers are part of AZs, edge locations are for CDN, and global endpoints are service-specific."
            },
            {
                question: "Which pricing model allows you to pay only for the compute capacity you consume, with no long-term commitments?",
                options: ["Reserved Instances", "On-Demand Instances", "Savings Plans", "Dedicated Hosts"],
                correct: 1,
                explanation: "On-Demand Instances let you pay by the second for the resources you use, ideal for short-term or unpredictable workloads. Reserved Instances and Savings Plans require commitments for discounts, while Dedicated Hosts are for physical servers."
            },
            {
                question: "What is the main benefit of using Amazon S3 for storage?",
                options: ["Block-level access", "Highly durable and scalable object storage", "Relational querying", "File system mounting"],
                correct: 1,
                explanation: "Amazon S3 provides 99.999999999% durability for objects, with unlimited scalability. EBS offers block-level, RDS provides relational querying, and EFS allows file mounting."
            },
            {
                question: "Which AWS service automatically distributes incoming application traffic across multiple targets?",
                options: ["Amazon Route 53", "Elastic Load Balancing", "AWS Auto Scaling", "Amazon VPC"],
                correct: 1,
                explanation: "Elastic Load Balancing (ELdistributes traffic to ensure no single target is overwhelmed, improving availability. Route 53 is for DNS, Auto Scaling adjusts capacity, and VPC is for networking."
            },
            {
                question: "What is an Availability Zone in AWS?",
                options: ["A global network of edge locations", "An isolated location within a Region consisting of one or more data centers", "A logical grouping of resources across Regions", "A content delivery endpoint"],
                correct: 1,
                explanation: "Availability Zones are designed to be independent for fault isolation, allowing high-availability architectures. Edge locations are for CloudFront, Regions group AZs, and endpoints are service access points."
            },
            {
                question: "Which AWS database service is fully managed and supports relational databases like MySQL and PostgreSQL?",
                options: ["Amazon DynamoDB", "Amazon RDS", "Amazon Redshift", "Amazon Neptune"],
                correct: 1,
                explanation: "Amazon Relational Database Service (RDS) handles setup, patching, and backups for relational engines. DynamoDB is NoSQL, Redshift is for data warehousing, and Neptune is for graphs."
            },
            {
                question: "What does AWS Shared Responsibility Model mean for security?",
                options: ["AWS manages all security aspects", "Customers manage all security aspects", "AWS secures the cloud infrastructure, while customers secure their data in the cloud", "Third parties handle security"],
                correct: 2,
                explanation: "AWS handles physical security and infrastructure, but customers are responsible for OS, applications, and data security configurations like IAM and encryption."
            },
            {
                question: "Which AWS service is used for domain name registration and DNS routing?",
                options: ["Amazon VPC", "AWS Direct Connect", "Amazon Route 53", "AWS CloudFormation"],
                correct: 2,
                explanation: "Route 53 provides scalable DNS, health checks, and domain registration. VPC is for virtual networks, Direct Connect for dedicated connections, and CloudFormation for infrastructure as code."
            },
            {
                question: "What is the purpose of AWS Auto Scaling?",
                options: ["To automatically adjust compute capacity based on demand", "To distribute traffic", "To store data", "To manage identities"],
                correct: 0,
                explanation: "Auto Scaling ensures the right number of EC2 instances or other resources are running to handle load, maintaining performance and cost efficiency. ELB distributes traffic, S3 stores data, IAM manages identities."
            },
            {
                question: "Which storage class in Amazon S3 is designed for infrequently accessed data with retrieval times in minutes?",
                options: ["S3 Standard", "S3 Glacier Instant Retrieval", "S3 Intelligent-Tiering", "S3 Glacier Flexible Retrieval"],
                correct: 3,
                explanation: "S3 Glacier Flexible Retrieval offers low-cost storage with retrieval in 1-5 minutes. Standard is for frequent access, Instant Retrieval for milliseconds, Intelligent-Tiering auto-moves based on access."
            },
            {
                question: "What is Amazon VPC used for?",
                options: ["Content delivery", "Virtual private cloud to launch AWS resources in an isolated network", "Serverless computing", "Data analytics"],
                correct: 1,
                explanation: "Virtual Private Cloud (VPallows custom network topology, subnets, and security. CloudFront is for CDN, Lambda for serverless, Athena for analytics."
            },
            {
                question: "Which AWS service provides a data warehouse for analytics?",
                options: ["Amazon RDS", "Amazon Redshift", "Amazon DynamoDB", "Amazon ElastiCache"],
                correct: 1,
                explanation: "Redshift is optimized for complex queries on large datasets using columnar storage. RDS is transactional, DynamoDB NoSQL, ElastiCache in-memory caching."
            },
            {
                question: "What is the AWS Well-Architected Framework?",
                options: ["A set of best practices for designing reliable, secure, efficient systems", "A pricing calculator", "A deployment tool", "A monitoring service"],
                correct: 0,
                explanation: "It covers pillars like operational excellence, security, reliability, performance, cost optimization, and sustainability. Not related to pricing (TCO Calculator), deployment (CodeDeploy), or monitoring (CloudWatch)."
            },
            {
                question: "Which AWS service allows you to run containers without managing servers?",
                options: ["Amazon EC2", "AWS Fargate", "Amazon EBS", "AWS Batch"],
                correct: 1,
                explanation: "Fargate is serverless for ECS and EKS, handling infrastructure. EC2 requires servers, EBS is storage, Batch is for jobs."
            },
            {
                question: "What does AWS CloudTrail do?",
                options: ["Monitors performance metrics", "Logs API calls and actions across AWS services", "Manages encryption keys", "Provides DNS routing"],
                correct: 1,
                explanation: "CloudTrail records user activity and API usage for auditing and compliance. CloudWatch monitors metrics, KMS manages keys, Route 53 does DNS."
            },
            {
                question: "Which AWS billing feature provides detailed cost allocation?",
                options: ["AWS Budgets", "Cost Explorer", "Tags", "Consolidated Billing"],
                correct: 2,
                explanation: "Tags allow labeling resources for cost tracking and allocation reports. Budgets set alerts, Cost Explorer visualizes, Consolidated Billing aggregates accounts."
            },
            {
                question: "What is Amazon EC2?",
                options: ["Elastic Block Store", "Elastic Compute Cloud for virtual servers", "Content Delivery Network", "Database Service"],
                correct: 1,
                explanation: "EC2 provides resizable compute capacity in the cloud. EBS is storage, CloudFront CDN, RDS databases."
            },
            {
                question: "Which service is used for real-time messaging and streaming data?",
                options: ["Amazon SQS", "Amazon Kinesis", "Amazon SNS", "AWS Glue"],
                correct: 1,
                explanation: "Kinesis handles real-time data streams for processing. SQS is queuing, SNS notifications, Glue ETL."
            },
            {
                question: "What is the maximum durability percentage for Amazon S3?",
                options: ["99.99%", "99.999999999%", "99.9%", "100%"],
                correct: 1,
                explanation: "S3 is designed for eleven 9s of durability over a year, meaning objects are highly unlikely to be lost."
            },
            {
                question: "Which AWS service provides managed Kubernetes?",
                options: ["Amazon ECS", "Amazon EKS", "AWS Fargate", "AWS Lambda"],
                correct: 1,
                explanation: "Elastic Kubernetes Service (EKS) manages Kubernetes clusters. ECS is container orchestration, Fargate serverless, Lambda functions."
            },
            {
                question: "What does AWS Direct Connect provide?",
                options: ["Public internet access", "Dedicated network connection from on-premises to AWS", "DNS resolution", "Load balancing"],
                correct: 1,
                explanation: "It bypasses the internet for faster, more reliable connectivity. Not public access, Route 53 DNS, ELB balancing."
            },
            {
                question: "Which AWS database is serverless and NoSQL?",
                options: ["Amazon RDS", "Amazon DynamoDB", "Amazon Aurora", "Amazon Redshift"],
                correct: 1,
                explanation: "DynamoDB auto-scales and is key-value/document. RDS and Aurora are relational, Redshift warehouse."
            },
            {
                question: "What is AWS Snowball used for?",
                options: ["Data transfer for large datasets offline", "Compute in remote areas", "Monitoring", "Encryption"],
                correct: 0,
                explanation: "Snowball is a physical device for petabyte-scale data migration. Snowcone for edge compute, CloudWatch monitoring, KMS encryption."
            },
            {
                question: "Which pillar of the Well-Architected Framework focuses on protecting data and systems?",
                options: ["Reliability", "Security", "Performance Efficiency", "Cost Optimization"],
                correct: 1,
                explanation: "Security pillar includes identity, detection, protection, and response. Reliability for recovery, Performance for resources, Cost for spending."
            },
            {
                question: "What is Amazon GuardDuty?",
                options: ["Firewall service", "Threat detection using machine learning", "Identity management", "Backup service"],
                correct: 1,
                explanation: "It analyzes logs for malicious activity. WAF is firewall, IAM identity, EBS snapshots backups."
            },
            {
                question: "Which AWS service is for infrastructure as code?",
                options: ["AWS CloudFormation", "AWS CodeBuild", "AWS OpsWorks", "AWS Elastic Beanstalk"],
                correct: 0,
                explanation: "CloudFormation uses templates to provision resources. CodeBuild compiles, OpsWorks config management, Beanstalk app deployment."
            },
            {
                question: "What does Amazon SNS provide?",
                options: ["Queuing", "Pub/sub messaging for notifications", "Data streaming", "ETL"],
                correct: 1,
                explanation: "Simple Notification Service sends messages to subscribers. SQS queuing, Kinesis streaming, Glue ETL."
            },
            {
                question: "Which storage service is optimized for workloads requiring low-latency access like databases?",
                options: ["Amazon S3", "Amazon EBS", "Amazon EFS", "Amazon Glacier"],
                correct: 1,
                explanation: "Elastic Block Store provides persistent block storage for EC2. S3 object, EFS file, Glacier archive."
            },
            {
                question: "What is the AWS Free Tier?",
                options: ["Unlimited free usage", "Limited free usage for 12 months on select services", "Paid tier discount", "Enterprise support"],
                correct: 1,
                explanation: "It offers hands-on experience with limits, like 750 hours of EC2 t2.micro per month."
            },
            {
                question: "Which service monitors AWS resources and applications in real-time?",
                options: ["AWS Config", "Amazon CloudWatch", "AWS Trusted Advisor", "AWS Inspector"],
                correct: 1,
                explanation: "CloudWatch collects metrics, logs, and sets alarms. Config tracks changes, Trusted Advisor optimizes, Inspector assesses security."
            },
            {
                question: "What is Amazon Aurora?",
                options: ["NoSQL database", "MySQL and PostgreSQL-compatible relational database with high performance", "Graph database", "Time-series database"],
                correct: 1,
                explanation: "Aurora offers faster performance than standard RDS engines. DynamoDB NoSQL, Neptune graph, Timestream time-series."
            },
            {
                question: "Which AWS service helps with cost forecasting?",
                options: ["AWS Budgets", "Cost Explorer", "AWS Pricing Calculator", "Savings Plans"],
                correct: 1,
                explanation: "Cost Explorer provides usage and cost analysis with forecasts. Budgets alerts, Calculator estimates, Savings Plans discounts."
            },
            {
                question: "What does AWS WAF protect against?",
                options: ["DDoS attacks only", "Common web exploits like SQL injection", "Physical threats", "Data loss"],
                correct: 1,
                explanation: "Web Application Firewall filters traffic. Shield for DDoS, physical by AWS, backups for data loss."
            },
            {
                question: "Which compute option is best for batch processing jobs?",
                options: ["AWS Lambda", "AWS Batch", "Amazon Lightsail", "Amazon Outposts"],
                correct: 1,
                explanation: "Batch manages job queues and compute environments. Lambda event-driven, Lightsail simple VPS, Outposts on-premises."
            },
            {
                question: "What is AWS Organizations used for?",
                options: ["Single account management", "Centralized management of multiple AWS accounts", "Code deployment", "Data transfer"],
                correct: 1,
                explanation: "It applies policies and consolidates billing across accounts. Not single account, CodeDeploy deployment, Snow family transfer."
            },
            {
                question: "Which service provides in-memory caching?",
                options: ["Amazon ElastiCache", "Amazon MemoryDB", "Amazon RDS", "Amazon DynamoDB"],
                correct: 0,
                explanation: "ElastiCache supports Redis and Memcached for fast data access. MemoryDB is transactional Redis, RDS relational, DynamoDB NoSQL."
            },
            {
                question: "What is the purpose of AWS KMS?",
                options: ["Monitoring keys", "Key Management Service for creating and controlling encryption keys", "Messaging", "Storage"],
                correct: 1,
                explanation: "It integrates with other services for data encryption. CloudWatch monitoring, SNS messaging, S3 storage."
            },
            {
                question: "Which AWS service is for interactive querying of S3 data using SQL?",
                options: ["Amazon EMR", "Amazon Athena", "Amazon QuickSight", "AWS Glue"],
                correct: 1,
                explanation: "Athena is serverless and charges per query. EMR big data, QuickSight BI, Glue ETL."
            },
            {
                question: "What does AWS Elastic Beanstalk do?",
                options: ["Manages containers", "Deploys and scales web applications easily", "Provides block storage", "Handles DNS"],
                correct: 1,
                explanation: "It handles provisioning, load balancing, and scaling. ECS containers, EBS storage, Route 53 DNS."
            },
            {
                question: "Which pillar focuses on recovering from failures?",
                options: ["Security", "Reliability", "Operational Excellence", "Sustainability"],
                correct: 1,
                explanation: "Reliability includes fault tolerance and recovery strategies. Security protection, Operational processes, Sustainability eco-impact."
            },
            {
                question: "What is Amazon EMR?",
                options: ["Email service", "Elastic MapReduce for big data processing with Hadoop/Spark", "Monitoring", "Relational database"],
                correct: 1,
                explanation: "It simplifies running frameworks on managed clusters. SES email, CloudWatch monitoring, RDS database."
            },
            {
                question: "Which service provides hybrid cloud storage?",
                options: ["AWS Storage Gateway", "Amazon S3", "AWS Direct Connect", "AWS VPN"],
                correct: 0,
                explanation: "Storage Gateway connects on-premises to cloud storage. S3 cloud-only, Direct Connect network, VPN secure connection."
            },
            {
                question: "What is AWS Trusted Advisor?",
                options: ["Security scanner", "Service that checks your environment for best practices", "Billing tool", "Deployment service"],
                correct: 1,
                explanation: "It provides recommendations on cost, performance, security, etc. Inspector scanner, Cost Explorer billing, CodeDeploy deployment."
            },
            {
                question: "Which AWS service is for machine learning model training?",
                options: ["Amazon SageMaker", "Amazon Comprehend", "Amazon Rekognition", "Amazon Lex"],
                correct: 0,
                explanation: "SageMaker builds, trains, and deploys ML models. Comprehend NLP, Rekognition image, Lex chatbots."
            },
            {
                question: "What does AWS Config do?",
                options: ["Configures EC2 instances", "Records and evaluates configurations of AWS resources", "Provides load balancing", "Manages keys"],
                correct: 1,
                explanation: "It assesses compliance and changes. Not instance config (OpsWorks), ELB balancing, KMS keys."
            },
            {
                question: "Which storage class in S3 is for data that is accessed less than once a year?",
                options: ["S3 Standard-IA", "S3 Glacier Deep Archive", "S3 One Zone-IA", "S3 Intelligent-Tiering"],
                correct: 1,
                explanation: "Deep Archive has the lowest cost with 12-hour retrieval. Standard-IA monthly, One Zone single AZ, Intelligent auto."
            },
            {
                question: "What is Amazon Lightsail?",
                options: ["High-performance computing", "Simple virtual private servers for developers", "Data warehouse", "Graph database"],
                correct: 1,
                explanation: "It's easy-to-use with fixed pricing for apps and sites. Not HPC (EC2), Redshift warehouse, Neptune graph."
            },
            {
                question: "Which service provides DDoS protection?",
                options: ["AWS Shield", "AWS WAF", "Amazon GuardDuty", "AWS Firewall Manager"],
                correct: 0,
                explanation: "Shield mitigates DDoS attacks. WAF web exploits, GuardDuty threats, Firewall Manager policies."
            },
            {
                question: "What is AWS Batch?",
                options: ["Batch email sending", "Fully managed batch computing for jobs", "Storage batching", "Networking batch"],
                correct: 1,
                explanation: "It plans, schedules, and executes batch jobs. SES email, no storage/network batch."
            },
            {
                question: "Which AWS service is for extract, transform, load (ETL)?",
                options: ["AWS Glue", "Amazon Athena", "Amazon EMR", "AWS Data Pipeline"],
                correct: 0,
                explanation: "Glue is serverless ETL with data catalog. Athena query, EMR processing, Data Pipeline orchestration."
            },
            {
                question: "What does Amazon SQS provide?",
                options: ["Streaming", "Fully managed message queuing", "Notifications", "Data warehousing"],
                correct: 1,
                explanation: "Simple Queue Service decouples applications. Kinesis streaming, SNS notifications, Redshift warehousing."
            },
            {
                question: "Which compute service is for virtual desktops?",
                options: ["Amazon WorkSpaces", "Amazon AppStream", "AWS Outposts", "AWS Snowmobile"],
                correct: 0,
                explanation: "WorkSpaces provides persistent desktops. AppStream streaming apps, Outposts on-prem, Snowmobile exabyte transfer."
            },
            {
                question: "What is the AWS Support plan that includes 24/7 access to engineers?",
                options: ["Basic", "Developer", "Business", "Enterprise"],
                correct: 2,
                explanation: "Business and Enterprise offer 24/7 support; Basic is self-service, Developer business hours."
            },
            {
                question: "Which service automates code deployments?",
                options: ["AWS CodeDeploy", "AWS CodeCommit", "AWS CodePipeline", "AWS CodeBuild"],
                correct: 0,
                explanation: "CodeDeploy deploys to EC2, Lambda, etc. CodeCommit repo, CodePipeline CI/CD, CodeBuild compile."
            },
            {
                question: "What is Amazon Neptune?",
                options: ["Relational DB", "Graph database", "Document DB", "Key-value store"],
                correct: 1,
                explanation: "It's for highly connected data like social networks. RDS relational, DocumentDB Mongo, DynamoDB key-value."
            },
            {
                question: "Which AWS service provides business intelligence and visualizations?",
                options: ["Amazon QuickSight", "Amazon SageMaker", "Amazon Athena", "AWS Glue"],
                correct: 0,
                explanation: "QuickSight creates dashboards from data sources. SageMaker ML, Athena query, Glue ETL."
            },
            {
                question: "What does AWS Outposts do?",
                options: ["Runs AWS services on-premises", "Provides global CDN", "Manages identities", "Stores objects"],
                correct: 0,
                explanation: "It extends AWS infrastructure to your data center. CloudFront CDN, IAM identities, S3 storage."
            },
            {
                question: "Which pillar emphasizes efficient use of resources?",
                options: ["Cost Optimization", "Performance Efficiency", "Operational Excellence", "Reliability"],
                correct: 1,
                explanation: "Performance Efficiency selects right resource types and sizes. Cost minimizes spend, Operational processes, Reliability recovery."
            },
            {
                question: "What is Amazon Timestream?",
                options: ["Time-series database", "Graph database", "Relational database", "In-memory cache"],
                correct: 0,
                explanation: "It's for IoT and operational data with time-based queries. Neptune graph, RDS relational, ElastiCache cache."
            },
            {
                question: "Which service provides automated backups for EC2?",
                options: ["Amazon EBS Snapshots", "AWS Backup", "Amazon Glacier", "AWS Storage Gateway"],
                correct: 1,
                explanation: "AWS Backup centralizes and automates across services. EBS manual snapshots, Glacier archive, Gateway hybrid."
            },
            {
                question: "What is AWS CodePipeline?",
                options: ["Code repository", "Continuous integration and delivery service", "Build server", "Deployment tool"],
                correct: 1,
                explanation: "It orchestrates build, test, deploy stages. CodeCommit repo, CodeBuild build, CodeDeploy deploy."
            },
            {
                question: "Which AWS service is for chatbots and voice apps?",
                options: ["Amazon Lex", "Amazon Polly", "Amazon Transcribe", "Amazon Translate"],
                correct: 0,
                explanation: "Lex builds conversational interfaces. Polly text-to-speech, Transcribe speech-to-text, Translate languages."
            },
            {
                question: "What does AWS Inspector assess?",
                options: ["Costs", "Security vulnerabilities in applications", "Performance", "Compliance"],
                correct: 1,
                explanation: "It scans for exposures and deviations. Cost Explorer costs, CloudWatch performance, Config compliance."
            },
            {
                question: "Which storage option is for HPC workloads?",
                options: ["Amazon FSx for Lustre", "Amazon EFS", "Amazon S3", "Amazon EBS"],
                correct: 0,
                explanation: "FSx for Lustre provides high-throughput file systems. EFS general, S3 object, EBS block."
            },
            {
                question: "What is Amazon Comprehend?",
                options: ["Image recognition", "Natural language processing service", "Speech recognition", "Video analysis"],
                correct: 1,
                explanation: "It extracts insights from text. Rekognition image/video, Transcribe speech."
            },
            {
                question: "Which AWS service provides private connectivity between VPCs?",
                options: ["VPC Peering", "AWS VPN", "AWS Direct Connect", "Internet Gateway"],
                correct: 0,
                explanation: "Peering connects VPCs directly. VPN over internet, Direct Connect dedicated, IGW public."
            },
            {
                question: "What is the AWS TCO Calculator used for?",
                options: ["Real-time monitoring", "Estimating cost savings when moving to AWS", "Deploying resources", "Managing users"],
                correct: 1,
                explanation: "Total Cost of Ownership compares on-prem to cloud. Not monitoring (CloudWatch), deployment (CloudFormation), users (IAM)."
            },
            {
                question: "Which service is for serverless data lakes?",
                options: ["Amazon S3", "AWS Lake Formation", "Amazon Redshift", "Amazon EMR"],
                correct: 1,
                explanation: "Lake Formation builds and manages data lakes. S3 storage, Redshift warehouse, EMR processing."
            },
            {
                question: "What does AWS Macie do?",
                options: ["Manages Macs", "Discovers and protects sensitive data using ML", "Monitors metrics", "Deploys code"],
                correct: 1,
                explanation: "It classifies data in S3. Not hardware, CloudWatch metrics, CodeDeploy code."
            },
            {
                question: "Which compute service is for edge locations?",
                options: ["AWS Lambda@Edge", "Amazon EC2", "AWS Fargate", "Amazon Lightsail"],
                correct: 0,
                explanation: "It runs code closer to users via CloudFront. EC2 regions, Fargate containers, Lightsail VPS."
            },
            {
                question: "What is Amazon Rekognition?",
                options: ["Text analysis", "Image and video analysis", "Speech synthesis", "Translation"],
                correct: 1,
                explanation: "It detects objects, faces, etc. Comprehend text, Polly speech, Translate languages."
            },
            {
                question: "Which AWS service provides email sending capabilities?",
                options: ["Amazon SES", "Amazon SNS", "Amazon SQS", "Amazon Kinesis"],
                correct: 0,
                explanation: "Simple Email Service for bulk/transactional emails. SNS notifications, SQS queues, Kinesis streams."
            },
            {
                question: "What is AWS Firewall Manager?",
                options: ["Manages firewalls across accounts", "Detects threats", "Encrypts data", "Monitors logs"],
                correct: 0,
                explanation: "It centralizes WAF, Shield, etc. GuardDuty threats, KMS encryption, CloudWatch logs."
            },
            {
                question: "Which database is for document-oriented storage?",
                options: ["Amazon DocumentDB", "Amazon DynamoDB", "Amazon RDS", "Amazon Quantum Ledger"],
                correct: 0,
                explanation: "Compatible with MongoDB. DynamoDB key-value, RDS relational, QLDB ledger."
            },
            {
                question: "What does AWS Savings Plans offer?",
                options: ["Fixed pricing", "Flexible discounts on usage commitments", "Free tier extension", "Billing alerts"],
                correct: 1,
                explanation: "Discounts for committed spend across EC2, Lambda, Fargate. Not fixed, free tier separate, Budgets alerts."
            },
            {
                question: "Which service provides quantum computing?",
                options: ["Amazon Braket", "Amazon SageMaker", "Amazon EMR", "AWS Batch"],
                correct: 0,
                explanation: "Braket for quantum algorithms. SageMaker ML, EMR big data, Batch jobs."
            },
            {
                question: "What is Amazon Polly?",
                options: ["Text-to-speech", "Speech-to-text", "Language translation", "Sentiment analysis"],
                correct: 0,
                explanation: "Converts text to lifelike speech. Transcribe speech-to-text, Translate languages, Comprehend sentiment."
            },
            {
                question: "Which AWS service is for IoT device management?",
                options: ["AWS IoT Core", "Amazon Kinesis", "AWS Lambda", "Amazon S3"],
                correct: 0,
                explanation: "Connects devices securely. Kinesis streams, Lambda compute, S3 storage."
            },
            {
                question: "What is the purpose of AWS Artifact?",
                options: ["Provides compliance reports", "Manages artifacts in code", "Monitors performance", "Deploys apps"],
                correct: 0,
                explanation: "On-demand access to AWS compliance documents. Not code (CodeArtifact), CloudWatch performance, Beanstalk deploy."
            },
            {
                question: "Which pillar added in 2021 to the Well-Architected Framework?",
                options: ["Security", "Sustainability", "Reliability", "Cost Optimization"],
                correct: 1,
                explanation: "Focuses on minimizing environmental impact. Others were original."
            },
            {
                question: "What is Amazon Quantum Ledger Database (QLDB)?",
                options: ["Blockchain-like immutable ledger", "Relational DB", "Graph DB", "Time-series"],
                correct: 0,
                explanation: "For transparent, cryptographically verifiable transactions. RDS relational, Neptune graph, Timestream time-series."
            },
            {
                question: "Which service provides managed blockchain?",
                options: ["Amazon Managed Blockchain", "Amazon QLDB", "Amazon Neptune", "AWS Glue"],
                correct: 0,
                explanation: "Supports Hyperledger and Ethereum. QLDB ledger, Neptune graph, Glue ETL."
            },
            {
                question: "What does AWS CodeCommit provide?",
                options: ["Private Git repositories", "Build service", "Deployment", "Pipeline"],
                correct: 0,
                explanation: "Fully managed source control. CodeBuild build, CodeDeploy deploy, CodePipeline orchestrate."
            },
            {
                question: "Which AWS service is for video transcoding?",
                options: ["Amazon Elastic Transcoder", "Amazon Rekognition", "Amazon Kinesis Video Streams", "Amazon Polly"],
                correct: 0,
                explanation: "Converts media files. Rekognition analysis, Kinesis streams, Polly speech."
            },
            {
                question: "What is AWS App Runner?",
                options: ["Serverless container deployment", "Virtual machines", "Batch jobs", "Data processing"],
                correct: 0,
                explanation: "Builds and runs web apps from code or containers. EC2 VMs, Batch jobs, EMR processing."
            },
            {
                question: "Which service provides serverless workflows?",
                options: ["AWS Step Functions", "AWS Batch", "AWS Glue", "Amazon EMR"],
                correct: 0,
                explanation: "Orchestrates Lambda and other services. Batch jobs, Glue ETL, EMR big data."
            },
            {
                question: "What is Amazon Fraud Detector?",
                options: ["ML-based fraud detection", "Threat detection", "Data classification", "Cost analysis"],
                correct: 0,
                explanation: "Identifies fraudulent activities. GuardDuty threats, Macie data, Cost Explorer costs."
            },
            {
                question: "Which AWS service is for contact centers?",
                options: ["Amazon Connect", "Amazon Lex", "Amazon Polly", "Amazon Transcribe"],
                correct: 0,
                explanation: "Cloud-based call center. Lex chatbots, Polly speech, Transcribe transcription."
            },
            {
                question: "What does AWS Personal Health Dashboard provide?",
                options: ["Personalized alerts on AWS service issues", "Cost reports", "Security scans", "Performance metrics"],
                correct: 0,
                explanation: "Notifies about events affecting your resources. Cost Explorer reports, Inspector scans, CloudWatch metrics."
            },
            {
                question: "Which compute option is for ARM-based processors?",
                options: ["AWS Graviton", "Amazon EC2", "AWS Lambda", "AWS Fargate"],
                correct: 0,
                explanation: "Graviton instances offer cost-effective performance. EC2 general, Lambda/Fargate support them."
            },
            {
                question: "What is Amazon Textract?",
                options: ["Extracts text and data from documents", "Translates text", "Synthesizes speech", "Analyzes sentiment"],
                correct: 0,
                explanation: "Uses OCR for forms, invoices. Translate translation, Polly speech, Comprehend sentiment."
            },
            {
                question: "Which service provides edge computing for IoT?",
                options: ["AWS IoT Greengrass", "AWS Snowcone", "AWS Outposts", "AWS Lambda@Edge"],
                correct: 0,
                explanation: "Runs Lambda on devices. Snowcone portable, Outposts racks, Lambda@Edge CDN."
            },
            {
                question: "What is AWS Control Tower?",
                options: ["Sets up and governs multi-account environments", "Monitors towers", "Deploys code", "Manages storage"],
                correct: 0,
                explanation: "Landing zones with best practices. Not physical, CodeDeploy code, S3 storage."
            },
            {
                question: "Which AWS service is for API management?",
                options: ["Amazon API Gateway", "AWS AppSync", "Amazon Cognito", "AWS Lambda"],
                correct: 0,
                explanation: "Builds, deploys, and manages APIs. AppSync GraphQL, Cognito auth, Lambda compute."
            },
            {
                question: "What does Amazon Cognito provide?",
                options: ["User authentication and authorization", "Data synchronization", "Messaging", "Storage"],
                correct: 0,
                explanation: "Sign-up, sign-in for apps. AppSync sync, SNS messaging, S3 storage."
            },
            {
                question: "Which database is for caching with Redis compatibility?",
                options: ["Amazon MemoryDB", "Amazon ElastiCache", "Amazon DynamoDB", "Amazon RDS"],
                correct: 0,
                explanation: "MemoryDB is durable Redis. ElastiCache caching, DynamoDB NoSQL, RDS relational."
            },
            {
                question: "What is AWS RoboMaker?",
                options: ["Robotics simulation and deployment", "ML models", "Data robotics", "Automation"],
                correct: 0,
                explanation: "For building intelligent robots. SageMaker ML, no data robotics, Step Functions automation."
            },
            {
                question: "Which service provides serverless GraphQL APIs?",
                options: ["AWS AppSync", "Amazon API Gateway", "AWS Lambda", "Amazon DynamoDB"],
                correct: 0,
                explanation: "Real-time data with offline support. API Gateway REST, Lambda code, DynamoDB DB."
            },
             {
                question: "Which of the following is a key benefit of moving to the AWS Cloud compared to on-premises infrastructure?",
                options: ["Elimination of all operational costs and responsibilities.", "Increased physical control over data centers.", "Ability to trade capital expenses (CapEx) for variable expenses (OpEx).", "Guaranteed 100% uptime for all services provided by AWS."],
                correct: 2,
                explanation: "The move to the cloud allows trading CapEx (upfront data center costs) for OpEx (pay-as-you-go variable costs)."
            },
            {
                question: "A company needs to quickly deploy and test a new application for only two months. Which pricing model would be the most cost-effective?",
                options: ["Reserved Instances", "Savings Plans", "On-Demand", "Spot Instances"],
                correct: 2,
                explanation: "On-Demand instances are ideal for short-term, unpredictable workloads that can be stopped at any time without commitment."
            },
            {
                question: "Which services are included in the AWS Free Tier? (Select two)",
                options: ["AWS Direct Connect", "Amazon EC2", "AWS Shield Advanced", "Amazon S3", "E) AWS Snow Family"],
                correct: [1, 3],
                explanation: "The Free Tier typically includes limited usage of services like EC2 and S3 for new accounts. Direct Connect, Shield Advanced, and Snow Family are paid services."
            },
            {
                question: "XXXXX",
                options: ["XXXXX"],
                correct: 0,
                explanation: "XXXXX"
            }

];

/* --------------------------- SHUFFLE QUESTIONS ON LOAD --------------------------- */
(function shuffleQuestions() {
    for (let i = questions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [questions[i], questions[j]] = [questions[j], questions[i]];
    }
})();

/* --------------------------- GLOBAL STATE --------------------------- */
let currentQuestion = 0;
let answers = new Array(questions.length).fill(null);   // null | number | number[]
let startTime = Date.now();

/* --------------------------- HELPERS --------------------------- */
function shuffleArray(arr) {
    const a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
}

/* --------------------------- LOAD QUESTION (tiny addition) --------------------------- */
function loadQuestion() {
    const q = questions[currentQuestion];
    const quizDiv = document.getElementById('quiz');

    /* ----- explanation container ----- */
    let expl = quizDiv.querySelector('.explanation');
    if (!expl) {
        expl = document.createElement('div');
        expl.className = 'explanation';
        expl.style.display = 'none';          // start hidden
    } else {
        expl.style.display = 'none';          // <<< HIDE IT EVERY TIME
    }

    /* ----- shuffle options ----- */
    const shuffled = shuffleArray(q.options);
    const originalIndices = shuffled.map(txt => q.options.indexOf(txt));
    q._shuffledIndices = originalIndices;

    quizDiv.innerHTML = `
        <div class="question-container">
            <div class="question">${currentQuestion + 1}. ${q.question}</div>
            <div class="options">
                ${shuffled.map((opt, i) => `
                    <div class="option" data-orig="${originalIndices[i]}" onclick="toggleOption(${i})">
                        ${opt}
                    </div>
                `).join('')}
            </div>
        </div>
    `;

    quizDiv.querySelector('.question-container').appendChild(expl);

    /* ----- restore previous answer ----- */
    const saved = answers[currentQuestion];
    if (saved !== null) {
        const opts = quizDiv.querySelectorAll('.option');
        const sel = Array.isArray(saved) ? saved : [saved];
        sel.forEach(origIdx => {
            const displayedIdx = originalIndices.indexOf(origIdx);
            if (displayedIdx > -1) opts[displayedIdx].classList.add('selected');
        });
        showAnswer();          // reveal answer if already answered
    }

    updateProgress();
    updateCounters();
    updateButtons();
}

/* --------------------------- TOGGLE OPTION --------------------------- */
function toggleOption(displayedIdx) {
    const q = questions[currentQuestion];
    const isMulti = Array.isArray(q.correct);
    const origIdx = parseInt(document.querySelectorAll('.option')[displayedIdx].dataset.orig);

    // single-choice: disallow change after first pick
    if (!isMulti && answers[currentQuestion] !== null) return;

    const opts = document.querySelectorAll('.option');

    if (isMulti) {
        let sel = answers[currentQuestion] || [];
        const pos = sel.indexOf(origIdx);
        if (pos > -1) {
            sel.splice(pos, 1);
            opts[displayedIdx].classList.remove('selected');
        } else {
            sel.push(origIdx);
            opts[displayedIdx].classList.add('selected');
        }
        answers[currentQuestion] = sel.length ? sel : null;
    } else {
        // deselect previous
        if (answers[currentQuestion] !== null) {
            const prevDisplayed = q._shuffledIndices.indexOf(answers[currentQuestion]);
            if (prevDisplayed > -1) opts[prevDisplayed].classList.remove('selected');
        }
        answers[currentQuestion] = origIdx;
        opts[displayedIdx].classList.add('selected');
    }

    showAnswer();
    updateCounters();
    updateProgress();
}

/* --------------------------- SHOW ANSWER --------------------------- */
function showAnswer() {
    const q = questions[currentQuestion];
    const opts = document.querySelectorAll('.option');
    const expl = document.querySelector('.explanation');

    const correctOrig = Array.isArray(q.correct) ? q.correct : [q.correct];

    /* ---- mark correct options (in the shuffled view) ---- */
    correctOrig.forEach(orig => {
        const displayed = q._shuffledIndices.indexOf(orig);
        if (displayed > -1) opts[displayed].classList.add('correct');
    });

    /* ---- mark wrong selections ---- */
    const userSel = answers[currentQuestion];
    if (userSel !== null) {
        const selArr = Array.isArray(userSel) ? userSel : [userSel];
        selArr.forEach(orig => {
            if (!correctOrig.includes(orig)) {
                const displayed = q._shuffledIndices.indexOf(orig);
                if (displayed > -1) opts[displayed].classList.add('wrong');
            }
        });
    }

    /* ---- FULL correct answer(s) + explanation ---- */
    const fullAnswers = correctOrig.map(i => `<strong>${q.options[i]}</strong>`).join(' <em>and</em> ');
    expl.innerHTML = `
        <div style="margin-bottom:8px;">
            Correct answer${correctOrig.length > 1 ? 's' : ''}: ${fullAnswers}
        </div>
        <div>${q.explanation}</div>
    `;
    expl.style.display = 'block';
}
/* --------------------------- COUNTERS & PROGRESS --------------------------- */
function updateProgress() {
    const answered = answers.filter(a => a !== null).length;
    const pct = (answered / questions.length) * 100;
    document.getElementById('progressBar').style.width = pct + '%';
}
function updateCounters() {
    const answered = answers.filter(a => a !== null).length;
    let correct = 0;

    answers.forEach((ans, i) => {
        if (ans === null) return;
        const q = questions[i];
        const correctIdx = Array.isArray(q.correct) ? q.correct : [q.correct];

        if (Array.isArray(ans)) {
            if (ans.length === correctIdx.length && ans.every(v => correctIdx.includes(v))) correct++;
        } else {
            if (correctIdx[0] === ans) correct++;
        }
    });

    const wrong = answered - correct;
    const accuracy = answered > 0 ? Math.round((correct / answered) * 100) : 0;

    document.getElementById('totalQuestions').textContent = questions.length;
    document.getElementById('answeredCount').textContent = answered;
    document.getElementById('correctCountLive').textContent = correct;
    document.getElementById('wrongCountLive').textContent = wrong;
    document.getElementById('accuracyPercent').textContent = accuracy + '%';
}

/* --------------------------- NAVIGATION --------------------------- */
function updateButtons() {
    document.getElementById('prevBtn').style.display = currentQuestion === 0 ? 'none' : 'inline-block';
    document.getElementById('nextBtn').style.display = currentQuestion === questions.length - 1 ? 'none' : 'inline-block';
    document.getElementById('submitBtn').style.display = currentQuestion === questions.length - 1 ? 'inline-block' : 'none';
}
function previousQuestion() { if (currentQuestion > 0) { currentQuestion--; loadQuestion(); } }
function nextQuestion()     { if (currentQuestion < questions.length - 1) { currentQuestion++; loadQuestion(); } }

/* --------------------------- SUBMIT --------------------------- */
function submitQuiz() {
    let correct = 0;
    answers.forEach((ans, i) => {
        if (ans === null) return;
        const q = questions[i];
        const correctIdx = Array.isArray(q.correct) ? q.correct : [q.correct];
        if (Array.isArray(ans)) {
            if (ans.length === correctIdx.length && ans.every(v => correctIdx.includes(v))) correct++;
        } else {
            if (correctIdx[0] === ans) correct++;
        }
    });

    const answered = answers.filter(a => a !== null).length;
    const wrong = answered - correct;
    const skipped = questions.length - answered;
    const mins = Math.round((Date.now() - startTime) / 60000);

    document.getElementById('correctCount').textContent = correct;
    document.getElementById('wrongCount').textContent = wrong;
    document.getElementById('skippedCount').textContent = skipped;
    document.getElementById('timeTaken').textContent = mins;
    document.getElementById('finalScore').textContent = `${correct}/${questions.length} (${Math.round((correct/questions.length)*100)}%)`;

    document.getElementById('quiz').style.display = 'none';
    document.querySelector('.navigation').style.display = 'none';
    document.getElementById('result').style.display = 'block';
}

/* --------------------------- RESTART --------------------------- */
function restartQuiz() {
    currentQuestion = 0;
    answers = new Array(questions.length).fill(null);
    startTime = Date.now();

    // re-shuffle questions
    for (let i = questions.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [questions[i], questions[j]] = [questions[j], questions[i]];
    }

    document.getElementById('result').style.display = 'none';
    document.getElementById('quiz').style.display = 'block';
    document.querySelector('.navigation').style.display = 'block';
    updateCounters();
    loadQuestion();
}

/* --------------------------- INITIALISE --------------------------- */
updateCounters();
loadQuestion();
</script>
</body>
</html>
