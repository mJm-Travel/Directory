<!DOCTYPE html>
<html>
<head>
  <meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="mJm Travel" />
<link rel="pingback" href="https://mjm-travel.freesite.host/xmlrpc.php"><link rel="icon" href="https://mjm-travel.freesite.host/wp-content/uploads/2025/03/cropped-mJm-Travel-Logo-32x32.jpeg" sizes="32x32" />
<link rel="icon" href="https://mjm-travel.freesite.host/wp-content/uploads/2025/03/cropped-mJm-Travel-Logo-192x192.jpeg" sizes="192x192" />
<link rel="apple-touch-icon" href="https://mjm-travel.freesite.host/wp-content/uploads/2025/03/cropped-mJm-Travel-Logo-180x180.jpeg" />
<meta name="msapplication-TileImage" content="https://mjm-travel.freesite.host/wp-content/uploads/2025/03/cropped-mJm-Travel-Logo-270x270.jpeg" />
  <meta charset="UTF-8">
  <title>Egypt Travel Directory</title>
  <style>
    ul { list-style-type: none; margin-left: 20px; }
    li { margin: 4px 0; }
  </style>
</head>
<body>
  <p><a href="https://mjm-travel.github.io/Directory/">üìÇ Back To Main Directory</a></p>
  <h1>üìÇ Egypt Travel Directory</h1>
  <ul id="repo-tree"></ul>
<script>
  const repoOwner = "mJm-Travel"; // üëà change this to your GitHub username/org
  const repoName = "Directory"; // üëà change this to your repo name
  const branch = "main"; // or "master" depending on your repo
  const folderPath = "Egypt/"; // üëà specify the path to the folder where this script is located relative to repo root; empty string means repo root

  async function loadRepoFolder() {
    const url = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${folderPath}?ref=${branch}`;
    try {
      const response = await fetch(url);
      if (!response.ok) throw new Error(`GitHub API error: ${response.status} ${response.statusText}`);
      const data = await response.json();

      let root = {};

      data.forEach(item => {
        // Exclude any index.html file
        if (item.name === "index.html") return;

        if (item.type === "file") {
          root[item.name] = { __type: "blob", url: item.html_url };
        } else if (item.type === "dir") {
          root[item.name] = { __type: "tree" };
          // Note: For simplicity, subfolders are not fetched recursively here
        }
      });

      function buildList(obj) {
        let ul = document.createElement("ul");
        for (let name in obj) {
          if (name === "__type") continue;
          let li = document.createElement("li");

          if (obj[name].__type === "blob") {
            let a = document.createElement("a");
            if (name.endsWith(".html")) {
              // Link to GitHub Pages if you host this repo there, adjust URL accordingly
              let basePath = folderPath ? folderPath + "/" : "";
              a.href = `https://${repoOwner}.github.io/${repoName}/${basePath}${name}`;
            } else {
              a.href = obj[name].url;
            }
            a.textContent = name;
            a.target = "_blank"; // open in new tab
            li.appendChild(a);

          } else if (obj[name].__type === "tree") {
            li.textContent = "üìÅ " + name;
            // Optional: show a placeholder or icon without sub-list since no recursion
          }

          ul.appendChild(li);
        }
        return ul;
      }

      const container = document.getElementById("repo-tree");
      container.innerHTML = ""; // clear existing content
      container.appendChild(buildList(root));

    } catch (err) {
      console.error("Error loading folder content:", err);
    }
  }

  loadRepoFolder();
</script>

 


</body>
</html>
